# MTT

## Preface

交流传达意义，语义学分析意义。本书以现代类型理论（MTTs）为框架研究自然语言语义学。MTTs 的例子包括 Martin-Löf 的预测性类型理论（Martin-Löf 1984；Nordström 等人1990年）和非预测依赖类型统一理论 UTT（Luo 1994）和 pCIC（Coq 2010）。 MTTs 提供了一个基础框架，而直到 Ranta 在上世纪90年代将 Martin-Löf 类型理论应用于形式化语义学之前都不可得到。在过去十年中，MTT 中的形式化语义学发展表明，与 Montague 1974 年使用的 Church 简单类型理论相比，MTTs 是强大而优越的选择。

MTTs具有丰富的类型结构，并且通过证明论的自然推理规则进行具体化。因此，它们在形式语义学上提供了强大的工具，一方面具有被证明论意义理论支持的吸引力，另一方面又具备实质性的推理基础。前者使我们能够研究广泛的语言特征，其中一些在Montagovian框架中难以准确描述。后者不仅为MTT语义提供了坚实的证明论基础，还引导出了基于现有证明技术支持的实用计算机辅助推理工具。这两个方面可以总结为MTT语义既是模型论的又是证明论的，这是由第二作者在Luo（2014）中提出并在Luo（2019a）中进一步阐述的论点。这使得MTTs成为一种有前景且有吸引力的语义框架，具有独特性：这样的框架在传统的逻辑环境中是不可得的，而MTT框架为自然语言语义提供了新的视角。

学习MTTs可能会很辛苦。部分原因在于MTTs涵盖了一些新概念，即使是传统逻辑学家起初也可能难以理解，更不用说将逻辑应用于形式语义学的语言学家们了。因此，在这本书中，除了学习MTT语义外，我们将尽力以非正式的方式介绍MTTs的基础知识：解释将会严谨，并附有来自语言语义学的例子。我们希望这样能够更容易地理解和学习MTT语义。

本书由以下七章组成，其中第1、2、3章和7.1节、7.2节主要由罗负责撰写，第4、5、6章和7.3节主要由Chatzikyriakidis撰写。

- 第一章《类型理论与语义研究/*Type Theories and Semantic Studies*》以概述类型理论的历史发展和讨论如何将类型理论作为形式语义学的基础语言开始。接着，我们简要介绍基于简单类型理论的蒙塔古语义[^1]和MTT-语义，并通过一些简单的例子进行比较。这有助于以简略的方式介绍MTT-语义的基础知识，同时附上一些对其历史发展的总结笔记，并让我们勾勒出将MTTs作为基础语义框架的几个重要优点。

- 第二章《现代类型理论/*Modern Type Theories*》是对MTTs的非正式但严谨和精确的介绍，主要面向语义学家。为了介绍MTTs的基本概念，我们使用解释性的例子来展示它们如何应用于语义结构，并且在大多数情况下，我们在附录中呈现它们的形式规则（主要是为了完整性）。我们特别关注几个对MTT语义学特别重要的机制，包括强制子类型化[coercive subtyping]（Luo 1997）、签名[signatures]（Luo 2014）和语言宇宙[linguistic universes]（Luo 2011b；Chatzikyriakidis和Luo 2012）。我们还将对本书中使用的类型理论进行完整的形式化展示，该理论基于多项研究（Luo 2014, 2019 a），既为了完整性，也为了将来的参考。

- 第三章《现代类型理论中的形式语义学/*Formal Semantics in Modern Type Theories*》是一个核心章节，详细说明了MTT语义学的几个重要特点，并展示了MTT语义学方法既可行又连贯。一方面，它提供了灵活且强大的机制，用于适当的语义解释。深入讨论了一些特性：CNs作为类型范例（Ranta 1994；Luo 2012a）、MTT语义中的子类型化（Luo 2009c，2012b）和断言解释的命题形式（Xue等，2018）。作为MTT语义的一个案例研究，我们研究了形容词修饰的语义，根据传统形容词的交叉性、部分性、剥夺性和不承诺性分类，探讨了如何在CNs作为类型范例中充分建模这些不同的形容词修饰方式。[^2] 这个案例研究以及接下来的两章，展示了MTTs中丰富的类型结构为建模各种语言特征提供了有益的工具。

[^1]:在1.3.1节中，Montague语义中采用的简单类型理论被呈现为一个自然演绎系统，该系统将在第7.2节中进一步扩展，我们将研究依赖事件类型[depenent event types]（Luo和Soloviev，2017）-这是将依赖类型[dependent types]应用于事件语义[event semantics]的一种方式。

- 第四章《高级修饰/*Advanced Modification*》，基于各种研究（Chatzikyriakidis 2014；Chatzikyriakidis和Luo 2017a、2020），研究了形容词和副词修饰的更高级问题。在第3.3节研究形容词修饰后，我们更深入地探讨了与修饰语义相关的进一步问题，传统上被认为更高级。特别是，我们将研究形容词和副词修饰，并认为MTTs中丰富的类型机制适合处理多个修饰问题：可分级性；可分级名词；以及真实、事件和意向副词。

- 第五章，《共指谓词和格化/*Copredication and Individuation*》研究了如何在MTT语义中处理共指谓词的问题。首先，回顾并展示了MTT语义环境中提出的点类型[dot-types]概念（Luo 2009c，2012b）能够对共指谓词提供满意的语义解决方案。然后，我们考虑了一些既涉及共指谓词又涉及量化的挑战性例子，表明，如(Luo 2012a；Chatzikyriakidis和Luo 2018)提议并研究的，名词短语（CNs）最好被解释为与其自身识别准则（即集合类[setoids]）相关的类型，而在这种复杂情况下的共指谓词需要格化的双重区别性：我们基于名词短语作为集合类的观点提供一个解释，并展示了这给了我们正确的语义并达到了预期的结果。

[^2]:在作者之前的文章中（Luo 2011a；Chatzikyriakidis 和 Luo 2013，2017a），可以找到关于解读各种形容词修饰的研究，但在本书中，我们将进一步深化这方面的研究，尤其是关于消极和不偏不倚的形容词 - 请参见第3.3节。

- 第六章，《使用 Coq 推理和验证自然语言语义/*Reasoning and Verifying NL Semantics in Coq*》，展示了如何利用 Coq 等现有的证明助手在基于 MTT 语义（Luo 2011b；Chatzikyriakidis 和 Luo 2014, 2016）的自然语言推理中使用 - 这是一种因为 MTT 是证明理论的并因此可以直接实施的有前途的技术。在这一章，我们介绍了一种领先的证明助手，Coq，并为前几章所覆盖的大部分语义现象提供实现。我们进一步检查实现的正确性，通过提供一些应该通过的推论的证明，验证对所涉及的现象给出了正确的语义解释。

- 第七章，《高级主题/*Advanced Topics*》，报道了关于 MTT 语义学的一些更高级或正在进行的研究进展。它包括以下三个部分：
  1) 在7.1节中，我们对第3.2.3节中非正式介绍的命题形式进行了正式研究。证明了相关的命题形式可以通过否定操作符以公理方式引入，并且这种扩展可以得到证明（薛等人，2018）而且，通过这种命题形式产生的语义过度生成可以避免（罗和薛，2020；薛等人，2020）；

  1) 在7.2节中，我们研究了由罗和索洛维夫（2017）在 Montagovian 环境中提出的依赖事件类型（DETs），[^3]显示出依赖类型在修饰事件语义中的事件类型上可能发挥有用的作用，并且以 DETs 的扩展是保守的，因此保留了原始理论的良好性质（罗和索洛维夫，2020）；

  1) 在7.3节中，我们研究如何用依赖类型扩展传统的范畴语法，开始研究依赖范畴语法（DCGs）。DCGs 的理论基础由第二作者在罗（2015，2018c）中开发并研究，其中展示了如何将依赖 Lambeck 类型视为对应于 MTT-语义类型的语法范畴。在本书中，我们从与 CNs-as-types 和更细化的语法范畴相关的几个方面调查 DCGs，并考虑未来有前景的研究方向。


图P.1中的图示指出了每一章如何依赖于前面的章节，尽管我们有两点需要明确：（1）对于第2章，你可以先粗略阅读一遍，然后在需要的时候回过头来再详细研究。 （2）第6章只部分依赖于早期章节 - 你可以在不详细学习第4章或第5章的情况下阅读和理解本章的大部分内容。

本书的预期读者包括形式语义学研究者、计算语义学者、对语言语义学感兴趣的逻辑学家或理论计算机科学家，以及有形式语义学背景的语言学研究生。具备一些逻辑学的基础知识以及关于蒙塔古语法的基本了解可能会有所帮助。

[^3]:如罗和索洛维耶夫（2017）所示，依赖事件类型也可以在MTT语义中被类似地考虑。然而，在这本书中，我们选择仅在 Montagovian 环境中考虑DET。

<img src="1.Type Theories and Semantic Studies.assets/image-20230524220114279.png" alt="image-20230524220114279" style="zoom:50%;" />

在我们进行MTT-语义学的工作过程中，我们受益于与许多研究者的讨论和交流，我们对他们感激不尽。以下是一份不完全的名单：Robin Adams，Nicholas Asher，Daisuke Bekki，Jean-Philippe Bernardy，Rasmus Blanck，Robin Cooper，David Corfield，Nissim Francez，Matthew Gotham，Justyna Grudziñska，Ruth Kempson，Shalom Lappin，Huimin Lin，Georgiana Lungu，Harry Maclean，Aleksandre Maskharashvili，Louise McNally，Koji Mineshima，Richard Moot，Glyn Morrill，Larry Moss，Bengt Nordström，Gabriele Paveri-Fontana，Aarne Ranta，Christian Retoré，Sergei Soloviev，Göran Sundholm，Ribeka Tanaka，Tao Xue，Yu Zhang 和 Colin Zwanziger。

SC 和 ZL

2020九月

## Type Theories and Semantic Studies

语义学的悠久历史产生了许多关于意义的理论。例如，指称理论[referential theory]采取了柏拉图的观点，提出意义是世界中的实体；内在主义理论[internalist theory]，如乔姆斯基所持的观点，认为意义是我们头脑中的概念；行运理论[use theory]，与维特根斯坦的"意义即使用"这一格言密切相关，主张意义体现在社会实践中语言的使用方式上。这些哲学理论本身极其有趣，同时也对研究者思考和处理形式语义学的方式产生了深远影响。例如，许多语义学家受到了指称意义理论的影响，认为形式语义学应当是模型论的（例如，参见Portner（2005）），并遵循了塔斯基在逻辑系统的模型论以及蒙塔古在自然语言集合理论语义学上的思想（蒙塔古1974）。另一方面，使用理论的意义说服了许多其他人，并且近年来得到了大量的发展，无论是在通用的意义理论上，如邓梅特（1991）和布兰登（1994，2000），还是在特定的证明理论语义学上，如根岑（1935）、普拉维茨（1973，1974）和马丁-勒夫（1984，1996）等逻辑学家。

本书研究现代类型理论中的形式语义学（简称MTT语义学）。我们认为，MTT语义学既具有模型论的特性，也具有证明论的特性，这是由第二作者在罗（2014）中首次提出，并在罗（2019a）中进一步阐述的观点，我们将在本书中详细解释。对于自然语言，模型论和证明论的语义学各有优势和劣势，想象将二者结合在一个单一的语义框架中并不容易：实际上，到目前为止，人们还从未尝试过，更不用说做到了。我们认为，MTT语义学是第一个同时具备这两种特性的框架：作为模型论，它提供了强大的机制来捕捉一系列语言特征的语义；作为证明论，它具有坚实的含义论基础，并可以通过当前的证明技术直接实施，以支持自然语言中的计算机辅助推理。这使MTT语义学在其他语义框架中具有前所未有的优势。

在本章中，我们将以简要叙述类型理论历史发展的方式开始，以便研究数学基础——针对经典数学的简单类型理论以及针对建设性数学的依赖（现代）类型理论。蒙塔古及其追随者们使用了简单类型理论作为研究自然语言的模型理论语义的中间语言，其中集合理论被视为基础语言。另一方面，在MTT语义学中，现代类型理论（MTTs）本身就是基础语言。MTTs中的新逻辑概念和丰富的类型机制使它们有足够的能力作为形式语义的基础语言。我们将简要介绍MTT语义学，这将在书中进一步发展，并总结其优点。

### Historical development of type theories

类型理论最初是为数学基础而开发的计算逻辑系统。在20世纪初，罗素（1903年）发展了类型理论，以解决数学基础中的一个问题，这个问题表现为康托尔的朴素集合理论中的一些众所周知的悖论性矛盾，这些矛盾与自我参照有关。包括罗素本人在内的一些研究人员将这种悖论归咎于逻辑公式的形成中的“恶性循环”（在技术术语中称为“非预定义性[impredicativity]”），而这正是罗素的“阶层类型理论[Ramified Theory of Types]”（怀特海德和罗素，1925年）试图避免的。

然而，拉姆齐[Ramsey]（1926年）指出，应该在逻辑演算构建中避免的是逻辑悖论，如罗素悖论，而非语义悖论，如说谎者悖论。他认为罗素将这两类悖论混淆，导致其多层次类型理论中出现复杂问题。拉姆齐辩称，尽管公式构建中的不可预测性具有循环性，但并非恶性。基于此，拉姆齐建议[^4]将多层次类型理论“简化”为简单类型理论，后来由丘奇（1940年）使用$\lambda$-记号正式构建，并在蒙塔古（1973年）的意向逻辑（Intensional Logic/IL）中用于研究自然语言的形式语义。

[^4]:简单类型理论的发展功劳，也应归功于波兰逻辑学家Chwistek（例如，参见Linsky 2009年的成果）

类型理论的早期发展，包括上述的罗素和拉姆齐的研究，都是为寻找经典数学的基础语言而进行的。在20世纪70年代，包括 Feferman、Friedman、Martin-Löf 和 Myhill 等在内的多位逻辑学家，研究的是建设性数学而非经典数学的基础语言。除了其他系统外，马丁-洛夫的类型理论（马丁-洛夫 1975，1984）以其若干创新的概念而脱颖而出，这些概念在传统的逻辑系统中并未出现过。它采用了语境、断言和定义等式的概念，并引入了如依赖型、归纳型和类型宇宙等强大的类型机制。它还利用了命题即类型的原理，也就是柯里-霍华德对应关系（柯里和菲斯 1958；霍华德 1980），将内嵌的逻辑纳入类型系统。这些特性不仅使马丁-洛夫的类型理论成为建设性数学基础的一个非常有趣的候选者，更重要的是，它开辟了新的途径去研究作为基础语言吸引各种应用的依赖类型理论，如计算机辅助推理和语言语义学。

特别是，对马丁-洛夫类型理论的研究，与对丘奇[Church]的简单类型理论一道，引领了一系列（直观的）类型理论的开发，我们称之为MTTs，[^5]包括马丁-洛夫的限制性类型理论[predicative type theory]（Martin-Löf 1975；Nordström等人1990年）以及不受限制性类型理论，如构造演算（Coquand 和 Huet 1988年）和依赖类型的统一理论（UTT）（Luo 1994年）。在计算机科学中，MTTs已在证明助手这种用于形式化证明开发的计算机系统中实现，如Agda（2008年），Coq（2010年）和Lego/Plastic（Luo和Pollack 1992年；Callaghan 和 Luo 2001年），并在数学形式化和程序验证的应用中得到使用。

[^5]:“现代类型理论”一词是为了区分在MTT语义学中使用的MTT和在蒙塔古语义学中使用的Church的简单类型理论，它首次出现在Luo (2009c)的成果中。

值得一提的是，尽管形式化的构造数学推动了依赖类型理论的早期发展，但并不正确的是只有在构造数学中才能使用MTT。换句话说，强大的类型化并不是构造数学或构造推理的专利；相反，它可以在更广泛的应用中使用，如语言语义学：本书要研究的MTT语义学就是一个这样的例子。[^6]

[^6]:在这方面，有兴趣的读者可以参考Aczel和Gambino在研究类型理论对于构造集合理论的解释时提出的富逻辑类型理论（LTTs）（Aczel和Gambino 2000; Gambino和Aczel 2006），以及第二作者和Adams关于支持用不同逻辑基础进行正式推理的LTTs类型理论框架的工作，包括经典推断以及直观推断（Luo 2007; Adams和Luo 2010）。同样相关的是最近关于同伦类型理论的研究，在这项研究中，Martin-Löf的类型理论被使用于使逻辑可以是直观的或经典的（HoTT 2013）。

### Foundational semantic languages

在形式语义学的研究中，我们考虑一种基础的语义语言，其中赋予自然语言句子和短语语义解释；换句话说，它是具有意义的语言，因为其句子/短语解释自然语言句子/短语。基础语义语言通常是一种正式的数学语言，除了精确且通常不含糊之外，还具有几个重要的显著特性，包括以下几点：

1) 这种语言具有丰富而强大的机制，因此能够为各种不同的语言特征提供充分的语义描述；

2) 这种语言包含（或嵌入）了有用的逻辑，可用于语义解释；

3) 这种语言被视为理解透彻（因此，语义解释也同样如此）。

在蒙塔古的模型理论语义学中（Montague 1973, 1974），公理集合论是基础的语义语言。首先，我们可以明显看到集合论非常强大，能够进行充分的语义描述：这一点已在蒙塔古体系中形式语义学的发展过程中得到证明。其次，集合论融合了有用的逻辑，这可能与构成集合论基础的逻辑系统（例如，一阶逻辑）不同。然而，这一点并不非常明显，这也是蒙塔古引入中间语言 IL（内涵逻辑）的原因之一（Montague 1973）：它为一种简单类型理论提供了语法，在这其中，常规逻辑运算符的语法被明确表示出来。通过在IL中解释自然语言短语，我们可以间接地从集合论中 IL 的语义获取其集合论解释（参见，Henkin's (1950)模型）。中间语言 IL 使得语义描述的任务变得更加简单明了。实际上，正如 Gallin（1975）所示，尽管 IL 仅构建了逻辑运算符的语法并在集合论中语义化地赋予了它们含义，一个替代系统 $T Y_{2}$可以被公理化，作为 Church 简单类型理论（Church 1940）的一个变体，我们将在下面进行阐述，并讨论其在蒙塔古语义学中的应用。[^7]

[^7]:尽管IL中的逻辑可以用来描述很多语言特性，但仍有很多其他特性在IL（或简单类型理论）中描述起来非常困难，如果不是不可能的话。在文献中，这些现象通常直接在集合理论中研究 - 参见例如Winter（2016）中的这样的"直接解释"。这就是为什么，对于蒙太古语义学，集合理论本身被视为基础语义语言，而不是中介语言IL的一个原因。

集合论是否满足作为基础语义语言的第三个要求，即是否被良好理解，这是主观的，也并不明确。有些人可能会说，我们对朴素集合论有相当好的理解。但是，显然，这是不足的，甚至可能会产生误导 - 这里涉及的并非朴素集合论；相反，在蒙塔古语义学中，我们使用公理化集合论作为基础的语义语言。可以公正地说，理解像ZFC这样的公理化集合论并不容易（例如，对于熟悉正式集合论的人来说，想想集合论中那些复杂且非直观的公理！）

在MTT语义学中，现代类型理论是基础的语义语言（详见第1.4.2节中有关历史发展的笔记）。它们拥有强大的机制和丰富的类型结构：这满足了我们的第一个要求 - MTT是用于形式语义学的强大语言。特别是，就像集合理论中的集合，类型代表集合，而MTT中丰富的类型机制提供了描述各种语言特征的强大工具。虽然MTT中的类型与集合理论中的集合不同，但它们为形式语义学提供了强大的机制，就像这本书中将展示的，以及其他事项。我们说，虽然MTT在证明理论上进行了规定，但MTT语义学是模型理论 - 对于形式语义学，MTT中的丰富类型机制非常强大，就像集合理论中的集合理论机制一样。[^8]

[^8]:这里可能需要做个说明：我们只是在强调类型理论和集合理论之间的相似性。然而，它们其实有很大的区别——例如，正是这种区别使我们能够说MTT语义也是证明理论的，并可以成功地在计算机上实现自然语言推理。对于一些读者来说，这种区别可能只会在后面，比如，在阅读了第二章以后，对MTT有了更深入的了解之后，才显现出来。

在类型理论中，我们能够判定形如 $a: A$ 的类型断言的正确性，即我们能够机械性地决定这样的断言是否可以正确地做出。这表明 $a$ 是 $A$ 类型。对于计算机科学家来说，这等同于说一个计算机系统能自动决定 $a$ 是否为类型 $A$。多亏了这个可判定性结果以及类型理论中丰富的类型机制，Curry-Howard主张的命题即类型原理（Curry 和 Feys 1958；Howard 1980）为我们提供了一种嵌入的逻辑机制用于语义解释 - 这满足了上述的第二个要求。在本书中，我们将详细阐述这一点，以展示逻辑机制如何运作，以及类型机制如何促进语义形式化。

MTT是通过证明论规则（参见第2章）来指定的，因此，它具有两个不在先前的集合论语义中出现的优点：首先，一个MTT可以有一个使用理论的含义，即其断言（句子）可以通过其推理使用方式在证明论的意义上被理解。这样的证明论理解基础语义语言之前并不存在：我们无法以此种方式理解集合论。因此，这为我们提供了一种新的可能性：我们可能会声称，作为基础语义语言的MTT，通过其证明论的含义理论得到了良好的理解。其次，因为它们是在证明论上指定的，MTT（以及MTT语义）可以被轻松地在计算机上实现，以支持自然语言中的计算机辅助推理。实际上，这得到了基于MTT的证明助手提供的当前证明技术的支持，如上所述，我们将描述如何在计算机上实现MTT语义以执行自然语言中的推理任务。

### Montague's model-theoretic semantics

自20世纪60年代晚期和70年代初期以来，蒙塔古语义学（Montague 1974）已经成为形式语义学的主导方法。有关蒙塔古语义学的教科书有好几本，例如Dowty等人（1981）的那本。如上所述，蒙塔古引入了一种名为意向逻辑（IL）的中介语言，用于他的模型论语义学。例如，为了解释（1.1）中的句子，我们可以先给出它在IL中的解释（1.2），其中John的语义是实体$j$，动词"talk"的语义解释是世界实体的谓语，可以应用到$j$上，形成解释（1.2）：

(1.1) $\text{John talks.}$

(1.2) $\operatorname{talk}(j)$

这便给出了$(1.1)$的集合论解释，即（根据，例如，亨金模型解释）对$(1.2)$在集合论中的解释，它表明$j$的集合论解释是解释谓词talk的集合的一个成员。

在接下来的内容中，我们首先将描述简单类型理论[^9]，然后介绍它在蒙塔古语义学中的应用。

[^9]:我们对简单类型理论的描述是正式的，并且在第7.2节中，将会通过依赖事件类型来进行扩展，这是戴维森事件语义中依赖类型的应用之一。

### Simple type theory: a formal description

Montague的IL（Montague 1973; Gallin 1975）由一个外延性核心组成，这是Church的简单类型理论（Church 1940）（在本书中，我们称之为$\mathcal{C}$，其中$\mathcal{C}$代表"Church"），以及一个关于内涵性的部分。[^10]我们将专注于描述前者，然后简要评论关于内涵性的部分。

[^10]:如 Montague（1973）所描述，IL 还包含一个用于描述时态的模态运算符。正如 Montague（1973）中所提到的，它可以被视为一个特殊的谓词符号，按照预期进行解释。在这里我们省略了它。

我们对Church的简单类型理论$\mathcal{C}$的描述遵循Luo和Soloviev（2017）的方式，其中通过自然推导规则来描述，这些规则可以推导出类型理论中的断言 - 句子。例如，断言可能是形如$\Gamma \vdash a: A$的形式，这意味着在语境$\Gamma$描述的假设下，$a$的类型是$A$。我们将首先解释在$\mathcal{C}$中语境和断言是什么，然后描述其规则。[^11]（$\mathcal{C}$的所有推理规则都在附录A1.1中列出。）

[^11]:对于那些不熟悉自然推理规则的人，可能需要提点，下面的规则定义了一个自然推理系统，其句子被称为断言[judgments]。如果存在对断言$J$的推导，即一系列有限的断言$J_{1}, \ldots, J_{n}$，其中$J_{n}=J$，那么断言$J$就是正确的（正式地称为可推导的）。对于所有的$1 \leq i \leq n$，$J_{i}$是某个推理规则实例的结论，其前提在$\left\{\bar{J}_{k} \mid k<i\right\}$中。

**语境与断言。**语境是一系列条目[entries]，形式可为 $x: A$ 或 $P\ true$ 。非正式地讲，前者假设变量 $x$ 属于类型 $A$，后者则假设命题 $P$ 为真。只有有效的语境才是合法的，而语境的有效性则受以下规则的约束：
$$
\frac{}{\langle\rangle \text { valid }} \quad \frac{\Gamma \vdash A \text { type } x \notin F V(\Gamma)}{\Gamma, x: A \text { valid }}\quad \frac{\Gamma \vdash P: \mathbf{t}}{\Gamma, P \text { true valid }}
$$
其中 $\langle\rangle$ 是空序列，而 $F V(\Gamma)$ 是 $\Gamma$ 中的自由变量集合，定义如下：

(1) $F V(\langle\rangle)=\emptyset$；

(2) $F V(\Gamma, x: A)=F V(\Gamma) \cup\{x\}$；

(3) $F V(\Gamma, P\ true)=F V(\Gamma)$。

断言为$\mathcal{C}$的语句，其正确性由以下推理规则控制。在 $\mathcal{C}$ 中，有四种形式的断言：

- $\Gamma$ 有效，这意味着 $\Gamma$ 是一个有效的语境（推导语境有效性的规则在上面给出）；

- $\Gamma \vdash A$ 类型，这意味着在语境 $\Gamma$ 中， $A$ 是一种类型；

- $\Gamma \vdash a: A$ , 这意味着在语境 $\Gamma$ 中， $a$ 是一种类型为 $A$ 的对象；

- $\Gamma \vdash P $ 成立, 这意味着在 $\Gamma $ 语境中 $P$ 为真。

**推理规则/*Inference rules*。**除了上面给出的上下文有效性规则外，$\mathcal{C}$ 还有以下规则：

- 基本类型规则：$\mathbf{e}$ 和 $\mathbf{t}$ 分别是实体和逻辑公式的类型。[^12]

$$
\frac{\Gamma \text { valid }}{\Gamma \vdash \mathbf{e} \text { type }} \quad \frac{\Gamma \text { valid }}{\Gamma \vdash \mathbf{t} \text { type }}
$$

- 假设规则：在有效的情境中，人们可以证明所假设的内容。

$$
\frac{\Gamma, x: A, \Gamma^{\prime} \text { valid }}{\Gamma, x: A, \Gamma^{\prime} \vdash x: A} \quad \frac{\Gamma, P \text { true }, \Gamma^{\prime} \text { valid }}{\Gamma, P \text { true }, \Gamma^{\prime} \vdash P \text { true }}
$$

- 函数类型的规则：形成规则（函数类型的构造），引入规则（$\lambda$-抽象）和消去规则（应用）如下所示，其中 $\lambda$-抽象和应用形式的项通过 $\beta$-约化关系在计算上相互关联。[^13]

$$
\frac{\Gamma \vdash A \text { type } \Gamma \vdash B \text { type }}{\Gamma \vdash A \rightarrow B \text { type }} \quad \frac{\Gamma, x: A \vdash b: B}{\Gamma \vdash \lambda x: A . b: A \rightarrow B} \quad \frac{\Gamma \vdash f: A \rightarrow B \Gamma \vdash a: A}{\Gamma \vdash f(a): B}
$$

- 由蕴涵和全称量词形成的逻辑公式规则：它们的构造、引入和消除规则。

$$
\begin{array}{r}
\frac{\Gamma \vdash P: \mathbf{t} \Gamma \vdash Q: \mathbf{t}}{\Gamma \vdash P \Rightarrow Q: \mathbf{t}} \quad \frac{\Gamma, P \operatorname{true} \vdash Q \text { true }}{\Gamma \vdash P \Rightarrow Q \text { true }} & \frac{\Gamma \vdash P \Rightarrow Q \text { true } \Gamma \vdash P \text { true }}{\Gamma \vdash Q \text { true }} \\
\frac{\Gamma \vdash A \text { type } \Gamma, x: A \vdash P: \mathbf{t}}{\Gamma \vdash \forall x: A . P: \mathbf{t}} \quad \frac{\Gamma, x: A \vdash P \text { true }}{\Gamma \vdash \forall x: A . P \text { true }} & \frac{\Gamma \vdash \forall x: A . P(x) \text { true } \Gamma \vdash a: A}{\Gamma \vdash P(a) \text { true }}
\end{array}
$$

​		在最后一条规则中，$P(a)$ 是通过将 $a$ 替换为 $x$ 在 $P(x)$ 中得到的。

- 公式真值的转换规则（有关$\simeq$的转换关系请参见脚注[^13]）

[^12]:这里，基本类型$\mathbf{e}$和$\mathbf{t}$的名称遵循Montagovian传统。在Church (1940)中，$e$和$\mathbf{t}$分别被命名为$\iota$和$o$。
[^13]:与$\lambda$演算类似，$\beta$-约化也成立：$(\lambda x: A . b[x])(a)$可以转换为$b[a]$，记作$(\lambda x: A . b[x])(a) \simeq b[a]$，其中$b[a]$是通过将$a$替换所有自由出现的$x$而得到的。换句话说，这两个表达式$(\lambda x: A . b[x])(a)$和$b[a]$在计算上是相同的——前者计算结果等于后者，并且$\beta$-约化关系$\simeq$是该基本计算关系的自反、对称和传递闭包。

**逻辑运算符/*Logical operators*。**其他常见的逻辑运算符可以通过 $\Rightarrow$ 和 $\forall$ 来定义。例如，合取和存在量词的运算符可以定义如下。其他运算符，如析取和否定，也可以类似地定义（参见附录 A1.2）。

(1.3) $P \wedge Q=\forall X: \mathbf{t}. (P \Rightarrow Q \Rightarrow X) \Rightarrow X$

(1.4) $\exists x: A . P(x)=\forall X: \mathbf{t}. (\forall x: A \cdot(P(x) \Rightarrow X)) \Rightarrow X$

|             | Example      | Montague semantics                                           |
| ----------- | ------------ | ------------------------------------------------------------ |
| CN          | man, human   | man, human : $\mathbf{e} \rightarrow \mathbf{t}$             |
| IV          | talk         | talk : $\mathbf{e} \rightarrow \mathbf{t}$                   |
| ADJ         | handsome     | handsome : $(\mathbf{e} \rightarrow \mathbf{t}) \rightarrow (\mathbf{e} \rightarrow \mathbf{t})$ |
| ADV~VP~     | quickly      | quickly : $(\mathbf{e} \rightarrow \mathbf{t}) \rightarrow (\mathbf{e} \rightarrow \mathbf{t})$ |
| Modified CN | handsome man | handsome (man) : **e** -> **t**                              |
| Quantifier  | some         | some : $(\mathbf{e} \rightarrow \mathbf{t}) \rightarrow (\mathbf{e} \rightarrow \mathbf{t})\rightarrow \mathbf{t}$ |
| S           | A man talks  | $\exists x: \mathbf{e} . \operatorname{man}(x) \& \operatorname{talk}(x): \mathbf{t}$ |

> 表 1.1. 蒙塔古语义案例

### Montague semantics: examples and intensionality

在蒙塔古语义学中，可以在表1.1中找到简单的例子，简要展示如何在蒙塔古环境下解释一些基本的语言类别，包括普通名词（CN），动词（IV），形容词（ADJ），修饰动词的副词$\left(\mathrm{ADV}_{V P}\right)$、修饰的CNs、量词和句子(S)。在接下来的部分中，我们可以找到表1.3，其中包含这些类别在MTT-语义学中解释的示例。例如，在蒙塔古语义学中，动词短语被解释为类型为$\mathbf{e} \rightarrow \mathbf{t}$ 的谓词，并且句子被解释为类型为$\mathbf{t}$ 的公式, 如(1.5)和(1.6)所示 (请参见表格 1.1 中 $IV$ 和 $S$ 的行):

(1.5) $\text{talk}:\mathbf{e} \rightarrow \mathbf{t}$

(1.6) $\exists x: \mathbf{e} . \operatorname{man}(x) \wedge \operatorname{talk}(x)$

我们需要指出的一点是，在类型理论中，类型断言和逻辑公式是不同的。特别地，一个类型断言并不是一个逻辑公式：(1.5) 是一个类型断言，它说明 talk 的类型为 $\mathbf{e} \rightarrow \mathbf{t}$，而 (1.6) 则是一个 $\mathbf{t}$ 类型的逻辑公式。通过这些例子可以看出差异很明显，并且无需强调。然而，在现代类型理论中使用了更加丰富的类型机制（例如见第二章），因此这一点变得更加重要。

本书采用一种符号约定：我们将使用不同的字体来表示自然语言短语的语义。例如，对于自然语言单词“man”和“talk”，我们将使用man和talk来表示它们的语义（如表1.1所示）。

在蒙塔古语言学框架中，一个被认真研究的语言特征是内涵性。这一概念源于卡尔纳普（1947）提出的观点，即表达式的内涵可以通过作用于可能情况集合上的函数来建模，在特定情况下该函数值为该表达式在该情况下的外延。几乎所有英语结构都有一些内涵实例（例如，请参见Partee (1988)等人对此进行讨论）。这促使蒙塔古将内涵性给予了他IL中的特殊处理。它可以通过向简单类型理论 $\mathcal{C}$ 添加一个特殊基础类型 $\mathbf{s}$ 来处理，从而允许考虑像 $\mathbf{s} \rightarrow A$ [^14]这样的类型。
$$
\frac{\Gamma \text { valid }}{\Gamma \vdash \mathbf{s} \text { type }}
$$

[^14]:这比蒙塔古在 IL（Montague 1973）中的处理略为简单，尽管它具有相同的能力。关于其理论基础，请参阅 Gallin 关于 $T Y_{2}$ 的工作（Gallin 1975）。

例如，我们可以将一个句子的内涵解释为从可能世界到真值的函数，类型为 $\mathbf{s} \rightarrow \mathbf{t}$。这种处理内涵性的方法已经得到了广泛研究，尽管在某些方面它并不被认为是完全令人满意的：例如，在逻辑内涵语境中，等价的句子被视为具有相同的含义，这可能是不正确的。在本书中，我们将大部分时间忽略内涵性问题（除了一些例外），[^15] 不是因为它不重要（显然很重要），而是因为它与我们讨论的大多数甚至全部问题无关。

[^15]:在讨论第3.3.4节的非承诺形容词[non-committal adjectives]和第4.5.4节的内涵副词[intensional adverbs]时，我们将处理内涵性方面的问题。

### MTT-semantics: formal semantics in modern type theories

在这一部分中，我们将简要介绍现代类型理论（MTT-semantics）中的一些形式语义学的简单示例，以进行说明。然后，我们将描述历史发展和MTTs作为基础语义语言所采用的一些主要优点。

#### A glance at MTT-semantics

在这里，我们提供了一些MTT-语义解释的简单示例，这些示例可以给出一些想法，尽管在第2章介绍MTTs之后，在第3章中进行完整的MTT-语义介绍将不可能。让我们从考虑简单的示例（1.1）开始，该示例在此重复为（1.7），其MTT-语义如（1.8）所示：

(1.7) $\text{John talks.}$

(1.8) $\operatorname{talk}(j)$

在外观上，MTT解释（1.8）似乎与Montagovian解释（1.2）相同。然而，尽管相似，但它们有微妙的差异，如表1.2所总结的那样。

|                          | Type in Montague semantics         | Type in MTT-semantics    |
| ------------------------ | ---------------------------------- | ------------------------ |
| $\text{j}$               | $\mathbf{e}$                       | $Human$                  |
| $\text{talk}$            | $\mathbf{e}\rightarrow \mathbf{t}$ | $Human \rightarrow Prop$ |
| $\operatorname{talk}(j)$ | $\mathbf{t}$                       | $Prop$                   |

> 表 1.2. "John talks" 的语义

特别是，这些解释的归类方式不同：

- 在MTT语义中，句子（1.7）被解释为命题 $\operatorname{talk}(j): Prop$ ，其中 $Prop$ 是所有逻辑命题的类型——这是一种仅存在于不可谓论类型[impredicative type]理论（如UTT）[^16]中的内整体[Internal totality]。
- 在MTT语义中，$\operatorname{talk}(j)$ 是一个良好类型化的命题，因为“talk”的语义是一个谓词 $talk : Human \rightarrow Prop$ ，其域[domain]是类型 $Human$，即可以有意义地应用 $\text{talk}$ 并且 $j$ 也属于其中的人类集合。与蒙塔古语义不同的是，$\text{talk}$ 的域是 $Human$ 而非所有实体的类型 $\mathbf{e}$。[^17]

[^16]:在像马丁-勒夫类型论这样的谓词MTTs中，人们会使用一个谓词宇宙，该宇宙仅是某些命题的类型，而不是所有命题的类型。虽然我们可以将Prop与Church简单类型理论中真值$\mathbf{t}$的类型相关联，但它们之间存在微妙差异。 MTT和Church简单类型理论之间的区别包括理论是否经典或建设性以及是否存在证明对象等等。这些超出了我们在此讨论范围。
[^17]:这构成了通过可判定类型处理选择限制的基础，及其他许多东西（稍后详细介绍）。

|                        | Example      | MTT-semantics                                                |
| ---------------------- | ------------ | ------------------------------------------------------------ |
| $\text{CN}$            | man, human   | $Man,\ Human : Type$                                         |
| $\text{IV}$            | talk         | $talk : Human \rightarrow Prop$                              |
| $\text{ADJ}$           | handsome     | $handsome : Man \rightarrow Prop$                            |
| $\text{ADV}_\text{VP}$ | quickly      | $quickly : \Pi A:\mathsf{CN}. (A \rightarrow Prop) \rightarrow (A \rightarrow Prop)$ |
| $\text{Modified CN}$   | handsome man | $\Sigma m: Man. handsome (m): Type$                          |
| $\text{Quantifier}$    | some         | $some : \Pi A:\mathsf{CN}. (A \rightarrow Prop) \rightarrow Prop$ |
| $\text{S}$             | A man talks  | $\exist m: Man.talk (m): Prop$                               |

> 表 1.3. MTT语义案例

在表1.3中，展示了各种基本语言类别的MTT-语义解释。其中自然语言例子与表1.1中的Montague语义相同，这使得可以快速比较以便更容易地理解MTT-语义，尽管此时可能会有些模糊和不精确。以下是表1.3中示例解释的简要说明：一些类型论概念被使用但没有进行解释，包括多态性[polymorphism]、$\Sigma$ 型和宇宙，在第二章才会介绍。

- 一个普通名词 $(\mathrm{CN})$ 可被解释为一种类型，而 $\mathrm{CNs}$ 的解释形成了 $\mathsf{CN}$ 的宇宙，是解释 $\mathrm{CNs}$ 的类型。

- 动词 $\mathrm{(IV)}$ 或形容词$ (\mathrm{ADJ})$ 可以解释为对类型 $D$ 上动词或形容词领域进行的谓语化处理，即具有类型$D \rightarrow Prop $ 的函数。

- 动词修饰[verb-modifying]的副词 $\left(\mathrm{ADV}_{VP}\right)$ 可以解释为从类型 $A \rightarrow Prop $ 到相同类型谓语的多态函数，在此过程中，$A$ 在宇宙 $\mathsf {CN}$ 中涵盖了 $\mathrm { CNs } $。

- 名词修饰（修饰的 $\mathrm{CN}$ ），当形容词是交集的时候，可以通过一对 $\Sigma$ 类型来解释。

- 量词解释为一个多态函数，它接受一个表示名词的类型 $A$ 和一个关于 $A$ 的谓词，并返回一个命题。

- 句子 $(\text S)$ 可以被视作命题类型 $Prop$。[^18]

[^18]:在MTT语义学中，我们还研究句子的断言解释以及如何将它们转化为命题形式 - 请参见第3.2.3节进行非正式介绍和第7.1节进行正式处理。

请注意，表1.3中的语义解释仅为典型示例。在某些情况下，可能会有进一步的阐述或完全不同的解释方式。例如，虽然由交集形容词修饰的 $\mathrm{CNs}$ 可以通过 $\Sigma$ 类型进行解释，但是其他类别形容词所做出的修饰形容可能更适合使用其他类型构造器来进行解释（参见第3.3节）。

语义解释可以被细化。例如，“人”这个词的语义可以定义为 $\Sigma$ 类型（1.9）。换句话说，$Man$ 不必是一个常量类型；相反，在（1.9）中，它通过类型 $Human$ 和谓词 $male : Human \rightarrow Prop$ 来定义：男人是具有男性特征的人类。

(1.9) $Man =\Sigma x: Human.male (x)$

同样地，虽然我们在表1.3中仅展示了“some”的语义类型，但广义量词可以在类型理论中定义（Sundholm 1989）。在简单的情况下，它们可以通过现有的类型理论量词来定义：例如，在UTT中，“some”可以通过存在量词来定义，如（1.10）所示。其中 $A:\mathsf {CN}$ , $P:A\rightarrow Prop$ 和 $\exists$ 是存在量词[existential quantifier]（请参见第2.3.1节和附录A3.2以获取其定义）。

(1.10) $\operatorname{some}(A, P)=\exists x: A . P(x)$

在（1.10）中定义的某些类型如表1.3所示。

#### MTTs as foundational semantic languages: historical notes

依赖类型理论在自然语言语义学中的应用可以追溯到1980年代中期，当时Mönnich（1985）和Sundholm（1986）展示了如何使用Martin-Löf的（外延性）类型理论来处理猫头鹰句子解释中所需的指代表示问题，这些问题是由Geach（1962）研究过的。关键创新之处在于使用存在量词类型构造器$\Sigma$，以便例如一些涉及有趣指代参考的驴子句子可以按预期进行解释。[^19]提供了一个优雅的解决方案来解决语言语义学长期存在的问题，并为动态语义学(Kamp 1981; Heim 1983; Groenendijk and Stokhof 1991)提供了一种替代方法，因此吸引了形式语义学家的关注，他们长期以来一直对这一问题感到困惑。

[^19]:在马丁-勒夫的类型理论中，命题即类型（所谓的PaT逻辑）中，存在量词由$\Sigma$表示。这种表示方法是强的，因为$\Sigma$类型的对象是一对，其第一个分量可以作为存在量化句子真实性的证明被投影出来。例如，在Sundholm（1986）中所示，驴子句子（1.11）可以解释为（1.12），其中Farmer和Donkey分别解释了“farmer”和“donkey”的类型：(1.11) Every farmer who owns a donkey beatsit.（每个拥有驴子的农夫都会打它。）(1.12) $\Pi z:(\Sigma x: Farmer \Sigma y: Donkey. own (x, y)). beat \left(\pi_1(z), \pi_1\left(\pi_2(z)\right)\right)$请注意，在(1.12)中，$\pi_{i}$是用于$\Sigma$-类型的投影操作符，特别的，$\pi_{1}$会投影出用$\Sigma$-类型表示的存在量词公式的证据（有关更多详细信息，请参阅2.2.2节）。然而，这样使用$\Sigma$-类型既作为存在量词又作为结构机制会导致如计数等问题 - 请参阅本节倒数第二段及15页/16页上的脚注$25 / 26$以获取示例和解释。

关于应用马丁-洛夫的（直观的）类型理论（Martin-Löf 1975; Nordström等人1990）进行形式语义学的系统研究，直到20世纪90年代初Ranta的工作，这方面的研究才真正开始（参见Ranta (1994)以及相关论文）。虽然Ranta本人可能并未将他的工作视为研究逻辑语义学（参见例如Ranta (1994)的前言），但他的工作广泛被认为是使用现代类型理论作为基础语义语言的首个系统性和重要的发展，研究了包括回指、时间参照和语境环境等多个主题。例如，继蒙尼希和松霍尔姆提出使用类型来代表普通名词后，Ranta详细研究了如何使用$\Sigma$-类型来代表（交集地）修改过的CNs，并指出CNs-as-types的方法遇到了动词的多重分类问题，这是一个需要解决的关键障碍。[^20] 在Ranta (1994)中另一个被仔细研究的主题是如何使用类型理论的上下文概念来代表可能的世界（或非正式意义上的情境）。[^21] 这个想法已被许多其他研究者接纳并进一步探索，研究上下文表示，包括Boldini (2000)在马丁-洛夫的(1984)类型理论中的工作，Ahn (2001)在纯类型系统（Barendregt 1992）及其扩展中的工作，以及Dapoigny和Barlatier (2010)在扩展构造计算（Luo 1990a, 1994）中的工作。[^22]

[^20]:Ranta (1994)讨论了几种可能的解决方案，但未能获得满意的解决方案，尤其是他没有意识到应该使用子类型来解决这个问题。实际上，强制子类型（Luo 1999）不同于普通的替代子类型，适用于依赖类型理论，并可以用来纠正这个问题 - 详见第3.3.1节和第68页的第21脚注，其中更多讨论了这个主题。
[^21]:在本书中，"可能世界[*possible worlds*]"和"情况[*situations*]"等词语被非正式地使用，特别的是，它们并未引用在文献中已经使用过的任何正式含义。
[^22]:类型理论中的上下文概念并不能完全适用于对情境的建模，因为上下文条目始终可以被抽象化。更进一步的发展在Luo（2014）以及Lungu和Luo（2018）中进行，他们引入了签名的概念，这可以更适当地代表情境。在这本书中，我们将使用带有签名的类型理论 - 更多细节，请参阅第2章，尤其是2.1节，2.4节和2.5节。

在过去的十年里，MTT-语义学的研究取得了丰硕和重大的发展，起始于强制子类型的应用（Luo 2009c，2012b），并发展成一个完整的语义框架。现代类型理论（MTTs）这个词首次由第二作者在Luo（2009c）中使用，一方面，这个词区别了MTTs和Montague语义中使用的简单类型理论，另一方面，它纳入了更广泛的（内涵的）依赖类型理论作为MTT-语义学的基础语言，例如，包括不可归类类型理论如UTT（Luo 1994）[^23]。到目前为止的发展已经作出了重大贡献，可以总结为以下三个方面，这在本书中有所描述：

[^23]:有人可能会考虑这样的观点（我们也同意），即一个带有逻辑命题内部全称性 $Prop$ 的非归纳性类型理论更适合形式语义学 - 请参考Luo(2019b)关于证明无关性的论点之一。

- 基础知识/*Fundamentals*。已经证明，MTTs是充分的基础语义语言。在这方面，有两个值得注意的发展：子类型化（罗2009c，2012b）和签名（罗2014）用于MTT语义。对于前者，已提出并证明强制子类型化（罗1999; 罗等人2012）是MTT语义的必要且关键机制。[^24] 对于后者，已经研究并提出了MTT语义的全新签名概念 - MTTs扩展了签名，特别是可能包含子类型化条目（罗2014；Lungu和罗2018），因此日常情况（或者在模型理论语义中非正式意义的不完全世界）可以通过这种新的语境机制得到充分描述。[^25]

[^24]:尤其是，它为Ranta所提及的多元分类问题（如上文及第13页脚注17[+3]所述）提供了令人满意的解决方案，因此克服了MTTs应用于形式语义学的主要障碍 - 关于此，可参阅3.2.2节。
[^25]:正式来说，本书中的类型理论通过签名进行了扩展（罗2019a） - 参见第2章。

- 应用/*Applications*。MTTs已证明对于语义构造具有强大的功能。利用MTTs丰富的类型结构，已经研究并在MTTs中赋予了各种语言特征的语义，例如，对各种形式的修饰的研究（Luo 2011a; Chatzikyriakidis 和 Luo 2013, 2017a）（见第3.3节和第4章）。还有两个值得注意的发展：在MTT-语义[^26]中为共指开发的点类型（Luo 2009c, 2012b; Chatzikyriakidis 和 Luo 2018）（关于共指的更多内容，请参阅第5章），以及强制子类型化作为在各种语义构造中的有用工具，例如，词义消歧[sense disambiguation]（Luo 2011b）（见第3.2.2节）和点类型[dot-types]的构造（见第5章），以及在本书后面所示的其他例子。[^27]

[^26]:对于熟悉类型理论的人来说，值得一提的是，点类型（Luo 2009c）并非普通的归纳类型，而是专门为处理共指关系而开发的。
[^27]:强制子类型用于形式语义的概念最初是由第二作者在Luo和Callaghan (1998)中提出的，但直到很多年后（大约十年后），Luo (2009c) 的出版，强制子类型才被用于修饰CNs的语义解释和构建共指谓词的点类型。

- 推理/*reasoning*。MTT-语义证明是计算机辅助自然语言推理的健全基础。MTTs 是证明论的：它们不仅由证明论规则规定，而且还有证明论的意义理论（Luo 2014），这使它们能够高效实现并有效用于计算机推理。计算机科学家在证明助手中实现了它们，我们使用了证明助手 $\mathrm{Coq}(\operatorname{Coq}$ 2010) 来实现 MTT-语义，并基于此类实现执行了各种推理任务和实验 (Luo 2011b; Chatzikyriakidis and Luo 2014, 2016)（详见第6章更多细节）。

值得一提的是，当应用于形式语义学时，类型理论是可预测的还是不可预测的会产生区别。虽然在可预测的类型理论中使用 $\Sigma$ 类型既作为存在量词也作为结构机制可以解决简单驴句的回指问题（参见第13页脚注16），但是在涉及计数的情况下，这样的解释是不足够的（例如，那些涉及“大多数”的句子（Sundholm 1989；Tanaka 2015））[^28]。如 Luo (2012a, 2019b) 提议和讨论的，一个解决这个问题的方法是强加证明不相关性（即所有逻辑命题的证明都是相同的）；然而，这样的强加只适用于将逻辑命题与其他类型区分的类型理论（如 UTT），而不适用于将它们认定为相同的情况（如 Martin-Löf 的类型理论）。在 UTT 中，普通的存在量词和 $\Sigma$ 类型都存在，引入证明不相关性后，可以给予包含回指和计数的句子一个满意的语义。[^29] 这样的解决方案也适用于可预测的类型理论：例如，如 Luo (2019b) 提议和研究的，我们可以使用 $\mathrm{MLTT}_{h}$，一种带有 Voevodsky 在 HoTT 项目中研究的 h-逻辑的 Martin-Löf 类型理论的扩展，以获得一个足够的基础语义语言，它以类似的方式适应强弱量词[strong and weak quantifiers]。

[^28]:“$\Sigma$”扮演的“双重角色”问题可以通过考虑（1.13）来说明，其在Martin-Löf的类型理论中的解释将是（1.14），其中“大多数”是通过Sundholm（1989）中定义的量词Most来解释的。（第二作者感谢Justyna Grudziñska关于此示例的讨论。）(1.13) Most farmers who own a donkey beat it.（大多数拥有驴子的农夫都会打它。）(1.14) $Most\ z:(\Sigma x: Farmer \Sigma y: Donkey. own (x, y)). beat \left(\pi_{1}(z), \pi_{1}\left(\pi_{2}(z)\right)\right)$ 解释（1.14）未能尊重正确的计数法，因为在$\Sigma$下，$own(x, y)$证明对象以错误且非预期的方式影响计数。
[^29]:26 如罗（2019b）中的第二作者所指出，在如UTT这样的类型理论中，我们可以实施证明的无关性（参见第3.3.1节和第69页的脚注22），上述脚注25中的驴句（1.13）可以通过使用$\Sigma$和弱命题量词 $\exists$ 得到满意的解释（1.15），其中，命题量词Most在UTT中被定义：(1.15) $Most\ z:[\Sigma x: Farmer \exists y: Donkey. own (x, y)] \\ \forall y^{\prime}:\left[\Sigma y:\right. Donkey.own \left.\left(\pi_{1}(z), y\right)\right]. beat \left(\pi_{1}(z), \pi_{1}\left(y^{\prime}\right)\right)$ 注意，$\exists$ 和 $\Sigma$ 都是传统的约束运算符。虽然我们可能无法仅用其中任何一个给出(1.13)的预期语义，但如果两者都可用，那么就可以做到。这意味着，为了解决这样的问题，我们可能无需放弃考虑新机制的传统约束机制，这是动态语义学的支持者如Kamp（1981）和Groenendijk和Stokhof（1991）所采取的策略。例如，动态谓词逻辑[dynamic predicate llgic]（Groenendijk和Stokhof 1991）是一种非标准的逻辑系统：在其他方面，它是非单调[non-monotonic]的，动态蕴涵[dynamic entailment]的概念既不具有反射性[reflexive]也不具有传递性[transitive] - 这样的做法似乎付出了过大的代价，本来是可以避免的。

MTT-语义学的研究，尤其是过去十年的发展，是许多研究人员更广泛研究努力的一部分，他们已经认识到丰富的类型结构在构建形式语义学中的潜在优势。例如，除了上述关于MTT-语义学的工作，Retoré (2013) 使用了系统 $\mathrm{F}$ (Girard 1972; Reynolds 1974) 来研究如何在语义构造中使用多态性，Bekki (2014) 研究了依赖型语义学，以讨论如指代表达和依赖型理论中的未指定等问题。[^30] 除此之外，还有一些非常有趣的基于依赖归类思想的语言语义学工作，但并非基于正式类型理论，包括Asher (2012)，Cooper (2005)[^31] 和 Grudzińska 与 Zawadowski (2017)等人的工作。

[^30]:就底层类型理论而言，DTS有两个版本：Bekki (2014)中的Martin-Löf类型理论和Bekki和Mineshima (2017)中的某种非归约型系统。在DTS方法中，CNs被解释为传统Montagovian语义中的谓词，因此，我们不需要丰富的类型结构，DTS主要使用$\Pi / \Sigma$类型作为逻辑操作符。这意味着它没有CNs作为类型范式的优势（参见第3.2.1节）。
[^31]:有必要澄清一点，即被称为记录型理论（Type Theory with Records，简称TTR）(Cooper 2005，2017)的系统并不是通常理解的类型理论，而是一种集合论的符号框架，其中$a: T$当且仅当$a$是集合$T$（在集合论中的名称）的成员。虽然它是基于集合论的，但TTR的发展，尤其是在早期，受到了Tasistro(1997)和Betarte(1998)在Martin-Löf的逻辑框架中对记录类型研究的影响。

#### Merits of MTT-semantics

我们认为，作为基础语义语言，MTT（类型理论）具有优势，且相较于简单类型理论和蒙塔古语义，MTT-语义有着独特的优点。以下，我们列举了一些它的优点，这些优点主要从两个方面进行组织，并在后续章节（以及相关论文）中进行了更详细的阐述。请注意，这绝不是为了涵盖MTT-语义的所有，或者说大多数，吸引人的方面，它只是为了突出一些显著的特性，希望使得读者更易理解本书接下来的内容。

**丰富的语义构造类型/*Rich typing for semantic constructions***。MTTs拥有丰富的类型结构：与简单类型理论中只有基本类型 $\mathbf{e}$ 和 $\mathbf{t}$ 以及箭头类型 $A \rightarrow B$（或者在传统记号中的$\langle A, B\rangle$）不同，有许多形成类型的方式，例如，依赖类型（例如 $\Pi$ 类型和 $\Sigma$ 类型）、归纳[inductive]类型（例如数值/列表/向量/树的类型和不相交联合类型[disjoint union types]）、逻辑类型用于命题（基于命题即类型原则）和类型宇宙（含有类型对象的类型）。[^32]正如我们稍早前简单提到的，形如 $a: A$ 的类型断言，直观上表示 $a$ 是类型 $A$ 的一个对象，这与集合理论中形如 $s \in S$ 的成员关系语句有很大的不同：例如，类型断言 $a: A$ 是可以机械性地决定的，而成员关系 $s \in S$（表达 $s$ 满足谓词 $S$ ）是一阶逻辑中的公式，其真值是无法决定的。在其他事物中，这种可判定性属性对于任何基于命题即类型原则的类型理论来说都是必要的。

[^32]:请参阅第2章，特别是第2.2节和第2.3节，以获取更多详细信息。

丰富的类型学科在语义构建中也给我们带来了几个优点。一个简单的优点是，丰富的类型允许我们使用类型断言而不是成员关系陈述来处理选择限制。在MTT-语义中，我们可以使用类型断言 $j: Man$ 来表示“John 是个男人”，这与Montague 语义不同，在Montague 语义中，我们使用公式 $\operatorname{man}(j)$ 来表示含义。因此，类型还为我们提供了一种处理选择限制[selectional restriction]的方法——排除无意义的句子或短语。这使得我们可以将类型化用作正式标准来断言一个句子是否有意义：例如，在非虚构世界中，通常认为像“Tables talk（桌子说话）”这样的句子由于类别错误[category error]是没有意义的——这通过MTT-语言学中的类型化方式捕获： “Tables talk”的MTT解释是ill-typed（或者说是非法表达）。 这与Montague 语言学不同，在Montague 语言学中，“Tables talk”的解释只是一个假陈述但它仍然是良好形成的公式。（更多说明请参见第3.1节）。

MTTs中丰富的类型结构使我们能够使用类型来代表各种合集[^33]，扮演Montagovian集合论语义中集合所扮演的角色。除了充当逻辑命题外，类型还可以在语义构建中以各种方式使用。例如，这使得我们可以将名词解释为类型而不是谓词（参见上文(Luo 2012a)和第3.2.1节）；在第3.3节中，我们展示了如何通过丰富的类型系统对各种形容词修饰进行建模，用于交叉修饰的 $\Sigma$ 类型、用于分离[subsective]修饰的 $\Pi$ 类型（及其相关多态性）、用于否定修饰的无交联合型和 $\Pi$ 多态性以及用于非承诺[non-committal]修饰的逻辑模态收集算符[logical modal collection operator]。我们还将在第4章和第5章中展示归类结构可用于建模更高级别的语言特征，例如渐进形容词修饰[gradable adjectival modification]和共指谓词（共指断言）[copredication]。

[^33]:在本书中，“合集/collection”一词用于指代非正式实体[informal entities]，而不是它们的形式化表示[formal representations]，如集合（sets）或类型（types）。

如前所述，子类型不仅对MTT语义至关重要，而且在语义构建中也非常有用。例如，在定义点类型（Luo 2009c、2012b）时采用强制子类型来给出涉及共指谓词的句子的充分解释，其中一个例子是(1.16)中的句子，“美味午餐”指食物，“花了很长时间”的午餐则指过程。许多研究人员如Pustejovsky（1995）和Asher（2012）都研究了这种共指谓词现象。对于MTT语义，第二作者提议使用点类型来处理共指谓词(Luo 2009c)：对于这个例子，午餐包括两个方面：作为食物和作为过程。这通过(1.17)中的子类型关系进行形式化描述。然后可以直接看出公式(1.18)，它解释了(1.16)，由于(1.17)中的子类型关系成立，因此该公式是良好地被打上标记的；其中 $l: Lunch$ 是“午餐（the lunch）”的解释。

(1.16) $\text{The lunch was delicious but took forever.}$ （午餐很美味，但是花了很长时间。）

(1.17) $Lunch \leq Food \bullet Process$

(1.18) $\operatorname{delicious} (l) \wedge \operatorname{take forever} (l)$

在定义像 $Food \bullet Process$ 这样的点类型时，使用强制子类型转换：例如，我们有 $Food \bullet Process \leq Food$ 和 $Food \bullet Process \leq Process$，因此(1.18)是类型良好的：谓词 $delicious$ 和 $take\_forever$ 都可以应用于$l:Lunch$，因为两个域 $Food$ 和 $Process$ 都是 $Lunch$ 的超类型[supertypes]。(有关子类型的更多正式细节，请参见第2.4节和第3.2.2节；有关共指谓词和点类型的更多信息，请参见第5章。)

**MTT-语义学既是模型论的又是证明论的/MTT-semantics is both model-theoretic and proof-theoretic**。正如Luo（2014年，2019a）所主张的那样，MTT-语义学具有独特而重要的特点：它既是模型论的又是证明论的，这使得MTTs成为形式语义学一个特别合适的框架。作为模型论，MTT-语义学提供了对各种语言特征广泛覆盖；作为证明论，则其基础性语言具有基于推理用途（在哲学和理论上引人注目） 的证明性意义理论，并且它为计算机上自然语言实践推理建立了坚实基础（在实际应用中引人注目）。总之，这加强了MTT- 语义学在形式化语义方面无论从理论还是从实践角度来看都是一个非常有前景的框架。

MTTs是经过证明论规范化的[^34]。通常，MTT呈现为自然演绎系统，其中每个类型构造器都由推理规则[nference rules]来指定，其中引入规则[introduction rules]用于声明如何填充（证明）类型（公式），消除规则[elimination rules]用于指定在假设类型（公式）已填充（证明）的情况下可以推导出什么后果。这些规则是和谐的，并且作为一个重要结论，MTTs本身具有证明论语义学，在逻辑学家例如Gentzen(1935)、Prawitz(1974, 1973)和Martin-Löf(1984, 1996)，以及哲学家例如Dummett (1975, 1991)和Brandom (1994, 2000)等人进行了研究和讨论[^35]。例如，Martin-Löf研究并发展了意义理论，并为他的类型理论提供了坚实的基础(Martin-Löf 1984)。因此，在MTT中形式语义学即MTT-语义学是一种证明性质的语义学，其基础性语言具有基于推断使用的证明性质[^36]。

[^34]: 有关MTTs的详细信息，请参阅第2章和相关参考资料。
[^35]: 值得注意的是，即使逻辑系统由证明论规则指定，它仍可能没有适当的证明论语义。例如，为了具有证明论语义，任何逻辑运算符或类型构造子的引入和消除规则必须协调一致，正如Dummett（1991）和其他人所讨论的那样。
[^36]: 请注意，MTT语义本身仍然是指称性的（并且模型论 - 见下文），即自然语言短语/句子的含义由其在MTT中的指称给出，而不是直接通过证明规则给出，尽管它们的基础语言具有证明理论意义，如上所述，“逻辑推理主义”或“证明论语义”（Kahle和Schroeder-Heister 2006）。我们能将逻辑推理主义扩展到自然语言吗？例如，Francez及其同事（Francez 2015）以一种直接采用逻辑系统证明论语义方法，并将其应用于自然语言来研究自然语言语义。但是，为了使这样的语义对于自然语言足够或可行，必须回答一些困难问题。例如，在逻辑化的形式化体系中，逻辑学家已经认识到要捕捉使用理论中公式的含义至关重要。其中两个方面需要详细说明：如何证明它以及如何从中得出结论；分别由引入和消去规则捕获。这是否可以直接概括到自然语言？这将是一个巨大飞跃，并且不幸地没有令人信服的正当理由。实际上，像Brandom这样主张“一般推理主义”的哲学家并不会以这种方式限制规则模式，如Peregrin（2013）所解释的以下评论：...重要的是要认识到，这种逻辑推理主义必须被归类为一般推理主义的特例，不仅因为它受限于逻辑常量，而且还因为对可以构成（意义上的）逻辑常量的推理模式施加了严格约束。相比之下，一般推理主义只声称一个词语的含义是其在推理模式中所扮演的角色；并没有声称每个词都必须有自己构成性质的推理模式，更不用说这种模式必须符合Gentzen规定...。换句话说，自然语言短语/句子的含义可能不仅仅通过引入和消除规则来捕捉，我们有充分理由对这种方法的可行性持悲观态度。

此外，MTT是具有证明论语义的证明系统，在基于MTT语义的自然语言推理中具有另一个重要且实用的影响。特别地，这使得MTT能够在证明助手（如Agda（Agda 2008）、Coq（Coq 2010）和Lego/Plastic（Luo and Pollack 1992；Callaghan and Luo 2001）等计算机辅助推理系统中实现——这些系统是计算机科学家开发并成功用于数学形式化和计算机程序验证的。因此，MTT语义可以直接在实现MTT的证明助手中进行实现：例如，在Coq（Chatzikyriakidis and Luo 2014；Luo 2011b）和Plastic (Xue and Luo 2012) 中已经实现了UTT类型理论中的MTT语义，并用于自然语言推理(Chatzikyriakidis 和Luo,2016) （更多细节请参见第6章）。

MTTs的证明论呈现导致了一种普遍认为基于MTTs的形式语义仅是证明论的观点，特别地，它不是模型论的[^37]。这是错误的 — MTT语义也是模型论的。首先，我们需要澄清一下，通过MTT-语义成为模型理论性质，我们并不意味着可以给一个MTT提供集合理论上的语义（例如在某些范畴框架中）；相反，我们指出一个MTT本身可以作为承载含义来给自然语言提供模型理论性质。也就是说，在MTT-语义中，一个MTT在传统模型理论性质中扮演着承载含义的角色，在其中集合理论发挥了这个角色。换句话说，我们认为 MTTs 可以很好地作为基础语言来赋予自己内在意思和建立起一套完整且具有模型理论语义学的体系。

[^37]: 一个例外是（Ranta 2015，第346页），在那里Ranta指出，基于Martin-Löf类型论（MTT）的形式语义学不是没有模型论。

我们将从两个方面阐述MTT语义是模型论的主题：第一，需要注意的是，与Montague语义中的集合类似，MTT中的类型用于表示对象集合（例如普通名词的语义解释），而MTT中丰富的类型结构为形式语义学提供了强大的表达手段。换句话说，在直觉上，MTT中的类型足够丰富以扮演表示集合的角色，就像Montague语义中的集合一样。

如上所述，MTT具有丰富的类型结构，并且正如第3、4和5章中所展示的那样，在MTT语义学中，这些类型在表示不同种类的集合方面起着重要作用，例如由各种形容词修饰的CNs给出的集合。通过类型进行这样的表示是简单类型理论无法实现的，因为它只有基本类型和箭头类型。 MTT中的类型非常强大，并且可以在语义构建中提供各种不同的表示方式。这是阐明MTT-语义学是模型论性质之一。

第二个方面是，MTT中的语境结构在传统逻辑系统中不可用，它为语义构建提供了非常有用的手段，并且特别地，它们为不完全可能世界[incomplete possible world]的模型论描述提供了有效支持。我们将描述签名[signatures]（Luo 2014）的概念（见第2.1节），这使得MTT更适合支持模型论描述。

据我们所知，类型理论中的签名概念最早出现在爱丁堡逻辑框架[Edinburgh Logical Framework]（Harper et al. 1993）中，其中使用具有成员条目[membership entries]的签名来描述一个逻辑系统[^38]。我们将引入不仅具有形式为 $x: A$ 的常规成员条目，而且还包含两种新形式的条目——子类型条目[subtyping entries]和化身条目[manifest entries]（见第2.4节），这些强化了签名在表示（不完全）可能世界方面的能力，即使是情况无限或涉及更复杂的现象。如Lungu和Luo (2018)以及第2.5节所示，在MTTs中扩展包含上述新形式以及成员条目的签名可以保留它们良好的元理论[meta-theoretic]性质，例如强正规化[strong normalization]（因此也就是逻辑一致性[logical consistency]）。

[^38]: 历史上，签名被用于描述代数结构，在代数规范研究中也被用于描述多重排序结构（Goguen和Burstall 1983）。然而，需要注意的是，类型理论中的签名概念与代数学中的不同，尽管它们可能在非正式方面相关。

值得指出的是，在MTT语义学发展之前，既具有模型论又具有证明论基础的语义学并不存在，或者至少人们没有意识到这种可能性（特别是集合论不属于此类语言，因为它不是证明论的）。MTT语义学既具有模型论又具有证明论基础，并且从新的角度揭示了模型论和证明论之间的区别，使我们能够从新视角研究形式化语义。

